{"ast":null,"code":"import _objectSpread from\"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Form,Switch}from'antd';import{delayTime}from'../../formConfig/constants';import{useMemo,useState}from'react';import{MapStateJSONTab}from'../AttributeConfig';import TextConfigurable from'../TextConfigurable';import{Fragment as _Fragment}from\"@emotion/react/jsx-runtime\";import{jsx as _jsx}from\"@emotion/react/jsx-runtime\";import{jsxs as _jsxs}from\"@emotion/react/jsx-runtime\";var CommonFormItem=function CommonFormItem(props){var isAllReadOnly=false;var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];//   const [drawOutsideTarget, setDrawOutsideTarget] = useState<boolean>(false);\nvar formItemLayout={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}};var _useState=useState(),_useState2=_slicedToArray(_useState,2),initVal=_useState2[0],setInitVal=_useState2[1];useMemo(function(){if(props){var tmpInitV={attribute:props.attribute,drawOutsideTarget:props.drawOutsideTarget,textCheckType:props.textCheckType,customFormat:props.customFormat,textConfigurable:props.textConfigurable,commonAttributeConfigurable:props.commonAttributeConfigurable};setInitVal(tmpInitV);}},[props]);// @ts-ignore\nvar formSubmitThrottle=window.throttle(function(){form.submit();},delayTime);if(!props.isShow){return _jsx(_Fragment,{});}return _jsx(\"div\",{style:{marginTop:24},children:initVal&&_jsxs(Form,_objectSpread(_objectSpread({},formItemLayout),{},{onChange:formSubmitThrottle,form:form,name:props.name,children:[props.toolName!=='lineTool'&&_jsx(Form.Item,{valuePropName:\"checked\",label:_jsx(\"span\",{className:\"formTitle\",children:\"\\u76EE\\u6807\\u5916\\u6807\\u6CE8\"}),name:\"drawOutsideTarget\",initialValue:initVal.drawOutsideTarget,children:_jsx(Switch,{onChange:function onChange(e){form.submit();},disabled:isAllReadOnly})}),_jsx(Form.Item,{valuePropName:\"checked\",label:_jsx(\"span\",{className:\"formTitle\",children:\"\\u901A\\u7528\\u6807\\u7B7E\"}),name:\"commonAttributeConfigurable\",initialValue:initVal.commonAttributeConfigurable,children:_jsx(Switch,{disabled:isAllReadOnly,onChange:function onChange(e){form.submit();}})}),_jsx(Form.Item,{noStyle:true,shouldUpdate:true,children:function children(){return(form===null||form===void 0?void 0:form.getFieldValue('commonAttributeConfigurable'))&&_jsx(Form.Item,{label:\" \",name:\"attribute\",initialValue:initVal.attribute,children:_jsx(MapStateJSONTab,{onSubmitAction:function onSubmitAction(){form.submit();}// onChange={e => {\n//   form.submit();\n// }}\n,isAttributeList:true,readonly:isAllReadOnly})});}}),_jsx(Form.Item,{label:_jsx(\"span\",{className:\"formTitle\",children:\"\\u5C5E\\u6027\\u914D\\u7F6E\"}),name:\"textConfigurableContext\",initialValue:{textConfigurable:initVal.textConfigurable,textCheckType:initVal.textCheckType,customFormat:initVal.customFormat},children:_jsx(TextConfigurable,{onChange:function onChange(e){form.submit();}})})]}))});};export default CommonFormItem;","map":null,"metadata":{},"sourceType":"module"}