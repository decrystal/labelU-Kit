{"ast":null,"code":"import _slicedToArray from\"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{Menu}from'antd';import{useNavigate,useLocation}from'react-router-dom';import{CustomIcon}from'./customIcon';import{useDispatch,useSelector}from'react-redux';import{setUserItem}from'../../stores/user.store';import{jsx as _jsx}from\"@emotion/react/jsx-runtime\";import{jsxs as _jsxs}from\"@emotion/react/jsx-runtime\";var SubMenu=Menu.SubMenu,Item=Menu.Item;var MenuComponent=function MenuComponent(_ref){var menuList=_ref.menuList;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),openKeys=_useState2[0],setOpenkeys=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedKeys=_useState4[0],setSelectedKeys=_useState4[1];var _useSelector=useSelector(function(state){return state.user;}),collapsed=_useSelector.collapsed,device=_useSelector.device,locale=_useSelector.locale;var dispatch=useDispatch();var navigate=useNavigate();var _useLocation=useLocation(),pathname=_useLocation.pathname;var getTitie=function getTitie(menu){return _jsxs(\"span\",{style:{display:'flex',alignItems:'center'},children:[_jsx(CustomIcon,{type:menu.icon}),_jsx(\"span\",{children:menu.label[locale]})]});};var onMenuClick=function onMenuClick(menu){if(menu.path===pathname)return;var key=menu.key,path=menu.path;setSelectedKeys([key]);if(device!=='DESKTOP'){dispatch(setUserItem({collapsed:true}));}navigate(path);};useEffect(function(){setSelectedKeys([pathname]);setOpenkeys(collapsed?[]:['/'+pathname.split('/')[1]]);},[collapsed,pathname]);var onOpenChange=function onOpenChange(keys){var key=keys.pop();setOpenkeys(key?[key]:[]);};return _jsx(Menu,{mode:\"inline\",theme:\"light\",selectedKeys:selectedKeys,openKeys:openKeys,onOpenChange:onOpenChange,className:\"layout-page-sider-menu\",children:menuList===null||menuList===void 0?void 0:menuList.map(function(menu){return menu.children?_jsx(SubMenu,{title:getTitie(menu),children:menu.children.map(function(child){return _jsx(Item,{onClick:function onClick(){return onMenuClick(child);},children:child.label[locale]},child.path);})},menu.path):_jsx(Item,{onClick:function onClick(){return onMenuClick(menu);},children:getTitie(menu)},menu.path);})});};export default MenuComponent;","map":null,"metadata":{},"sourceType":"module"}