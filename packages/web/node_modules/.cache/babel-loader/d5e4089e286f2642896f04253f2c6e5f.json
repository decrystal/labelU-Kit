{"ast":null,"code":"import _toConsumableArray from \"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _slicedToArray from \"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { prefix as D } from \"../../../constant/index.js\";\nimport K from \"../../../utils/StepUtils.js\";\nimport e, { useState as l, useEffect as I } from \"react\";\nimport { Tabs as h } from \"antd\";\nimport { connect as J, useSelector as x } from \"react-redux\";\nimport U from \"./TextToolSidebar/index.js\";\nimport G from \"./TagSidebar/index.js\";\nimport q from \"./AttributeRusult/index.js\";\nimport B from \"classnames\";\nimport { toolList as z } from \"../toolHeader/ToolOperation/index.js\";\nvar E = \"\".concat(D, \"-sidebar\"),\n  M = function M(n) {\n    var u = n.imgList,\n      b = n.imgIndex,\n      y = n.currentToolName,\n      p = n.isPreview,\n      _l = l(),\n      _l2 = _slicedToArray(_l, 2),\n      L = _l2[0],\n      R = _l2[1],\n      _l3 = l(\"1\"),\n      _l4 = _slicedToArray(_l3, 2),\n      A = _l4[0],\n      j = _l4[1],\n      _l5 = l( /*#__PURE__*/e.createElement(\"div\", {\n        className: \"rightTab\"\n      }, /*#__PURE__*/e.createElement(\"p\", null, \"\\u5206\\u7C7B\"), /*#__PURE__*/e.createElement(\"span\", {\n        className: \"innerWord\"\n      }, \"\\u672A\\u5B8C\\u6210\"))),\n      _l6 = _slicedToArray(_l5, 2),\n      W = _l6[0],\n      F = _l6[1],\n      _l7 = l(),\n      _l8 = _slicedToArray(_l7, 2),\n      P = _l8[0],\n      O = _l8[1],\n      N = x(function (t) {\n        return K.getCurrentStepInfo(t.annotation.step, t.annotation.stepList);\n      }),\n      _l9 = l(!1),\n      _l10 = _slicedToArray(_l9, 2),\n      _ = _l10[0],\n      C = _l10[1],\n      c = x(function (t) {\n        return t.annotation.tagConfigList;\n      }),\n      g = x(function (t) {\n        return t.annotation.textConfig;\n      }),\n      $ = N == null ? void 0 : N.tool,\n      _l11 = l(),\n      _l12 = _slicedToArray(_l11, 2),\n      k = _l12[0],\n      H = _l12[1],\n      _l13 = l(),\n      _l14 = _slicedToArray(_l13, 2),\n      X = _l14[0],\n      w = _l14[1];\n    return I(function () {\n      var t;\n      var m = (t = document.getElementById(\"annotationCotentAreaIdtoGetBox\")) == null ? void 0 : t.parentNode;\n      H(m.clientHeight), w(m.clientWidth);\n    }), I(function () {\n      var t, m, v, S;\n      if (u && u.length > 0) {\n        var o = JSON.parse(u[b].result),\n          r = (o == null ? void 0 : o.textTool) ? o == null ? void 0 : o.textTool.result : [];\n        R( /*#__PURE__*/e.createElement(\"div\", {\n          className: \"rightTab\"\n        }, /*#__PURE__*/e.createElement(\"p\", null, \"\\u6587\\u672C\\u63CF\\u8FF0\"), /*#__PURE__*/e.createElement(\"span\", {\n          className: B({\n            innerWord: !0,\n            finish: r && r.length > 0 && r.length === g.length\n          })\n        }, r && r.length > 0 && r.length === g.length ? \"\\u5DF2\\u5B8C\\u6210\" : \"\\u672A\\u5B8C\\u6210\")));\n        var i = (o == null ? void 0 : o.tagTool) ? Object.keys((t = o == null ? void 0 : o.tagTool.result[0]) == null ? void 0 : t.result) : [];\n        F( /*#__PURE__*/e.createElement(\"div\", {\n          className: \"rightTab\"\n        }, /*#__PURE__*/e.createElement(\"p\", null, \"\\u5206\\u7C7B\"), /*#__PURE__*/e.createElement(\"span\", {\n          className: B({\n            innerWord: !0,\n            finish: i && i.length > 0 && i.length === c.length\n          })\n        }, i && i.length > 0 && i.length === c.length ? \"\\u5DF2\\u5B8C\\u6210\" : \"\\u672A\\u5B8C\\u6210\")));\n        var s = JSON.parse(u[b].result),\n          T = 0,\n          d = [];\n        var _iterator = _createForOfIteratorHelper(z),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var a = _step.value;\n            if (a.toolName !== \"tagTool\" && s[a.toolName] && ((m = s[a.toolName]) == null ? void 0 : m.result) && ((S = (v = s[a.toolName]) == null ? void 0 : v.result) == null ? void 0 : S.length) > 0) {\n              for (var f = 0; f < s[a.toolName].result.length; f++) d.indexOf(s[a.toolName].result[f].order) < 0 && d.push(s[a.toolName].result[f].order);\n              T += d.length, d = [];\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        O( /*#__PURE__*/e.createElement(\"div\", {\n          className: \"rightTab\"\n        }, /*#__PURE__*/e.createElement(\"p\", null, \"\\u6807\\u6CE8\\u7ED3\\u679C2\"), /*#__PURE__*/e.createElement(\"span\", {\n          className: \"innerWord\"\n        }, T, \"\\u4EF6\"))), T > 0 ? C(!0) : C(!1);\n      }\n    }, [y, A, u, b]), $ ? /*#__PURE__*/e.createElement(\"div\", {\n      className: \"\".concat(E),\n      style: {\n        height: k - 64\n      }\n    }, /*#__PURE__*/e.createElement(h, {\n      defaultActiveKey: \"1\",\n      onChange: function onChange(t) {\n        j(t);\n      }\n    }, c && c.length > 0 && /*#__PURE__*/e.createElement(h.TabPane, {\n      tab: W,\n      key: \"1\"\n    }, /*#__PURE__*/e.createElement(\"div\", {\n      className: \"\".concat(E)\n    }, /*#__PURE__*/e.createElement(G, {\n      isPreview: p\n    }))), /*#__PURE__*/e.createElement(h.TabPane, {\n      tab: P,\n      key: \"2\"\n    }, /*#__PURE__*/e.createElement(q, {\n      isPreview: p,\n      isShowClear: _\n    })), g && g.length > 0 && /*#__PURE__*/e.createElement(h.TabPane, {\n      tab: L,\n      key: \"3\"\n    }, /*#__PURE__*/e.createElement(\"div\", {\n      className: \"\".concat(E)\n    }, /*#__PURE__*/e.createElement(U, {\n      isPreview: p\n    }))))) : null;\n  };\nfunction Q(n) {\n  return {\n    currentToolName: n.annotation.currentToolName,\n    imgList: _toConsumableArray(n.annotation.imgList),\n    toolInstance: n.annotation.toolInstance,\n    tagConfigList: n.annotation.tagConfigList,\n    textConfig: n.annotation.textConfig,\n    imgIndex: n.annotation.imgIndex\n  };\n}\nvar V = J(Q)(M);\nexport { V as default };","map":null,"metadata":{},"sourceType":"module"}