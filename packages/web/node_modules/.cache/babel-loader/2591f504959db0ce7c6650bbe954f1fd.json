{"ast":null,"code":"import _slicedToArray from \"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { prefix as n, ESubmitType as B } from \"../../../constant/index.js\";\nimport { PageForward as D, ToSubmitFileData as I, ToNextStep as x, loadImgList as P } from \"../../../store/annotation/actionCreators.js\";\nimport { LeftOutlined as w } from \"@ant-design/icons\";\nimport { i18n as v } from \"@label-u/utils\";\nimport { Button as p, Tooltip as H } from \"antd/es\";\nimport _ from \"classnames\";\nimport { last as R } from \"lodash\";\nimport e, { useReducer as A, useRef as Q } from \"react\";\nimport { useTranslation as S } from \"react-i18next\";\nimport { connect as U, useDispatch as q } from \"react-redux\";\nimport { store as z } from \"../../../index.js\";\nimport G from \"./headerOption/index.js\";\nimport J from \"./StepSwitch/index.js\";\nimport K from \"./ActionOption/index.js\";\nimport M from \"./ToolOperation/index.js\";\nvar $ = function $(_ref) {\n    var t = _ref.disabled,\n      r = _ref.imgList;\n    var _S = S(),\n      o = _S.t,\n      i = function i() {\n        var a = z.dispatch,\n          s = z.getState;\n        r[0] ? a(x(0)) : P(a, s, 0).then(function (m) {\n          m && a(x(0));\n        });\n      };\n    return /*#__PURE__*/e.createElement(p, {\n      type: \"primary\",\n      style: {\n        marginLeft: 10\n      },\n      onClick: i,\n      disabled: t\n    }, o(\"NextStep\"));\n  },\n  V = function V(_ref2) {\n    var t = _ref2.step,\n      r = _ref2.stepProgress,\n      o = _ref2.stepList,\n      i = _ref2.imgList;\n    var a;\n    var _S2 = S(),\n      s = _S2.t,\n      m = (a = R(o)) == null ? void 0 : a.step;\n    if (o.length < 2 || t === m) return null;\n    var l = r < 1;\n    return l ? /*#__PURE__*/e.createElement(H, {\n      title: s(\"StepNotFinishedNotify\")\n    }, /*#__PURE__*/e.createElement(\"span\", null, /*#__PURE__*/e.createElement($, {\n      disabled: l,\n      imgList: i\n    }))) : /*#__PURE__*/e.createElement($, {\n      disabled: l,\n      imgList: i\n    });\n  },\n  W = function W(_ref3) {\n    var t = _ref3.goBack,\n      r = _ref3.isPreview,\n      o = _ref3.header,\n      i = _ref3.headerName,\n      a = _ref3.imgList,\n      s = _ref3.stepProgress,\n      m = _ref3.stepInfo,\n      l = _ref3.stepList,\n      L = _ref3.step,\n      d = _ref3.annotationEngine,\n      O = _ref3.toolsBasicConfig,\n      u = _ref3.topActionContent;\n    var f = q(),\n      _A = A(function (c) {\n        return c + 1;\n      }, 0),\n      _A2 = _slicedToArray(_A, 2),\n      T = _A2[1],\n      E = Q(null),\n      C = function C() {\n        f(I(B.Quit)), t && t(a);\n      },\n      N = function N(c) {\n        v.changeLanguage(c), d == null || d.setLang(c), T();\n      },\n      g = v.language,\n      y = /*#__PURE__*/e.createElement(w, {\n        className: \"\".concat(n, \"-header__icon\"),\n        onClick: C\n      }),\n      j = i ? /*#__PURE__*/e.createElement(\"span\", {\n        className: \"\".concat(n, \"-header__name\")\n      }, i) : \"\",\n      F = l.length > 1 && /*#__PURE__*/e.createElement(e.Fragment, null, /*#__PURE__*/e.createElement(J, {\n        stepProgress: s\n      }), /*#__PURE__*/e.createElement(V, {\n        step: L,\n        stepProgress: s,\n        stepList: l,\n        imgList: a\n      })),\n      h = /*#__PURE__*/e.createElement(G, {\n        stepInfo: m\n      }),\n      b = /*#__PURE__*/e.createElement(\"div\", {\n        className: \"\".concat(n, \"-header__lang\")\n      }, /*#__PURE__*/e.createElement(\"span\", {\n        className: \"\".concat(n, \"-langCN \").concat(g === \"cn\" ? \"active\" : \"\"),\n        onClick: function onClick() {\n          return N(\"cn\");\n        }\n      }, \"\\u4E2D\\u6587\"), \" / \", /*#__PURE__*/e.createElement(\"span\", {\n        className: \"\".concat(n, \"-langEN \").concat(g === \"en\" ? \"active\" : \"\"),\n        onClick: function onClick() {\n          return N(\"en\");\n        }\n      }, \"En\")),\n      k = /*#__PURE__*/e.createElement(\"div\", {\n        className: \"nextImageOption\"\n      }, u || /*#__PURE__*/e.createElement(e.Fragment, null, /*#__PURE__*/e.createElement(p, null, \"\\u8DF3\\u8FC7\"), /*#__PURE__*/e.createElement(p, {\n        type: \"primary\",\n        onClick: function onClick(c) {\n          c.stopPropagation(), f(D());\n        }\n      }, \"\\u4E0B\\u4E00\\u9875\")));\n    return o ? typeof o == \"function\" ? /*#__PURE__*/e.createElement(\"div\", {\n      className: _(\"\".concat(n, \"-header\")),\n      ref: E\n    }, /*#__PURE__*/e.createElement(\"div\", {\n      className: \"\".concat(n, \"-header__title\")\n    }, o({\n      backNode: y,\n      headerNameNode: j,\n      stepListNode: F,\n      headerOptionNode: h,\n      langNode: b\n    }))) : o : /*#__PURE__*/e.createElement(\"div\", {\n      className: _(\"\".concat(n, \"-header\")),\n      ref: E\n    }, /*#__PURE__*/e.createElement(\"div\", {\n      className: \"\".concat(n, \"-header__title\")\n    }, /*#__PURE__*/e.createElement(M, {\n      toolsBasicConfig: O\n    }), /*#__PURE__*/e.createElement(\"div\", {\n      id: \"operationNode\",\n      className: \"\".concat(n, \"-header__operationNode\")\n    }, h), /*#__PURE__*/e.createElement(K, null), !r && k));\n  },\n  X = function X(t) {\n    var r;\n    return {\n      imgList: t.annotation.imgList,\n      annotationEngine: t.annotation.annotationEngine,\n      stepProgress: t.annotation.stepProgress,\n      toolName: (r = t.annotation.stepList[t.annotation.step - 1]) == null ? void 0 : r.tool,\n      stepList: t.annotation.stepList,\n      stepInfo: t.annotation.stepList[t.annotation.step - 1],\n      step: t.annotation.step,\n      toolsBasicConfig: t.annotation.toolsBasicConfig\n    };\n  };\nvar Y = U(X)(W);\nexport { Y as default };","map":null,"metadata":{},"sourceType":"module"}