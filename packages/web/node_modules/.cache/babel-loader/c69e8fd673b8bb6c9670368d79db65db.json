{"ast":null,"code":"import _classCallCheck from\"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/createClass.js\";// 实现json 转为 yml\nvar JsonToyml=/*#__PURE__*/function(){function JsonToyml(){_classCallCheck(this,JsonToyml);this.spacing='  ';}_createClass(JsonToyml,[{key:\"getType\",value:function getType(obj){var type=typeof obj;if(obj instanceof Array){return'array';}else if(type==='string'){return'string';}else if(type==='boolean'){return'boolean';}else if(type==='number'){return'number';}else if(type==='undefined'||obj===null){return'null';}else{return'hash';}}},{key:\"convert\",value:function convert(obj,ret){var type=this.getType(obj);switch(type){case'array':this.convertArray(obj,ret);break;case'hash':this.convertHash(obj,ret);break;case'string':this.convertString(obj,ret);break;case'null':ret.push('null');break;case'number':ret.push(obj.toString());break;case'boolean':ret.push(obj?'true':'false');break;}}},{key:\"convertArray\",value:function convertArray(obj,ret){if(obj.length===0){ret.push('[]');}for(var i=0;i<obj.length;i++){var ele=obj[i];var recurse=[];this.convert(ele,recurse);for(var j=0;j<recurse.length;j++){ret.push((j===0?'- ':this.spacing)+recurse[j]);}}}},{key:\"convertHash\",value:function convertHash(obj,ret){for(var k in obj){var recurse=[];if(obj.hasOwnProperty(k)){// @ts-ignore\nvar ele=obj[k];this.convert(ele,recurse);var type=this.getType(ele);if(type==='string'||type==='null'||type==='number'||type==='boolean'){ret.push(this.normalizeString(k)+': '+recurse[0]);}else{ret.push(this.normalizeString(k)+': ');for(var i=0;i<recurse.length;i++){ret.push(this.spacing+recurse[i]);}}}}}},{key:\"normalizeString\",value:function normalizeString(str){if(str.match(/^[\\w]+$/)||str.match(/^[\\u4e00-\\u9fa5_a-zA-Z0-9_]+$/)||str.startsWith('^')&&str.endsWith('$')||str.startsWith('http')||str.startsWith('[')&&str.endsWith(']')){return str;}else{return'\"'+escape(str).replace(/%u/g,\"\\\\u\").replace(/%U/g,\"\\\\U\").replace(/%/g,'\\\\x')+'\"';}}},{key:\"convertString\",value:function convertString(obj,ret){ret.push(this.normalizeString(obj));}},{key:\"json2yaml\",value:function json2yaml(obj){if(typeof obj=='string'){obj=JSON.parse(obj);}var ret=[];this.convert(obj,ret);return ret.join('\\n');}}]);return JsonToyml;}();export{JsonToyml as default};","map":null,"metadata":{},"sourceType":"module"}