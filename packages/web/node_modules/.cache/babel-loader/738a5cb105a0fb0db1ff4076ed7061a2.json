{"ast":null,"code":"import _slicedToArray from \"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport U from \"./views/MainView/index.js\";\nimport { i18n as V } from \"@label-u/utils\";\nimport p, { useState as G, useEffect as s } from \"react\";\nimport { connect as z, useDispatch as R, useSelector as $ } from \"react-redux\";\nimport { BasicToolOperation as h } from \"@label-u/annotation\";\nimport { store as a } from \"./index.js\";\nimport { ANNOTATION_ACTIONS as q } from \"./store/Actions.js\";\nimport { ChangeCurrentTool as H, InitTaskData as J, loadImgList as K } from \"./store/annotation/actionCreators.js\";\nimport { LoadFileAndFileData as _ } from \"./store/annotation/reducer.js\";\nvar Q = Object.defineProperty,\n  W = Object.defineProperties,\n  X = Object.getOwnPropertyDescriptors,\n  v = Object.getOwnPropertySymbols,\n  Y = Object.prototype.hasOwnProperty,\n  Z = Object.prototype.propertyIsEnumerable,\n  C = function C(t, e, o) {\n    return e in t ? Q(t, e, {\n      enumerable: !0,\n      configurable: !0,\n      writable: !0,\n      value: o\n    }) : t[e] = o;\n  },\n  k = function k(t, e) {\n    for (var o in e || (e = {})) Y.call(e, o) && C(t, o, e[o]);\n    if (v) {\n      var _iterator = _createForOfIteratorHelper(v(e)),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var o = _step.value;\n          Z.call(e, o) && C(t, o, e[o]);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    return t;\n  },\n  tt = function tt(t, e) {\n    return W(t, X(e));\n  };\nvar et = function et(t) {\n    var e, o;\n    var n = t.imgList,\n      _t$step = t.step,\n      I = _t$step === void 0 ? 1 : _t$step,\n      _t$stepList = t.stepList,\n      O = _t$stepList === void 0 ? [] : _t$stepList,\n      S = t.onSubmit,\n      L = t.onSave,\n      T = t.toolStyle,\n      r = t.currentToolName,\n      P = t.onPageChange,\n      y = t.onStepChange,\n      _t$initialIndex = t.initialIndex,\n      c = _t$initialIndex === void 0 ? ((o = (e = h) == null ? void 0 : e.Cache) == null ? void 0 : o.get(\"nextIndex\")) || 0 : _t$initialIndex,\n      l = t.toolInstance,\n      w = t.tagConfigList,\n      b = t.attributeList,\n      f = t.toolsBasicConfig,\n      x = t.textConfig,\n      g = t.setToolInstance,\n      N = t.getFileData,\n      _t$pageSize = t.pageSize,\n      j = _t$pageSize === void 0 ? 10 : _t$pageSize,\n      m = t.loadFileList,\n      _t$defaultLang = t.defaultLang,\n      A = _t$defaultLang === void 0 ? \"cn\" : _t$defaultLang;\n    t.imgList && t.imgList.length > 0 && console.info(\"result\", t.imgList[0].result);\n    var B = R(),\n      _$ = $(function (i) {\n        return i.annotation;\n      }),\n      u = _$.isShowOrder,\n      _G = G(),\n      _G2 = _slicedToArray(_G, 2),\n      D = _G2[0],\n      E = _G2[1];\n    s(function () {\n      n && (n == null ? void 0 : n.length) > 0 && n[0].url && E(n[0].url);\n    }, []), s(function () {\n      return function () {\n        h.Cache.clear();\n      };\n    }, []), s(function () {\n      if (n && (n == null ? void 0 : n.length) > 0 && t.toolsBasicConfig && t.toolsBasicConfig.length > 0) {\n        var i = r,\n          d = f.filter(function (M) {\n            return M.tool === r;\n          });\n        d && d.length === 0 && (i = f[0].tool, B(H(i))), a.dispatch(J({\n          toolStyle: T,\n          initToolName: i,\n          onSubmit: S,\n          stepList: O,\n          tagConfigList: w,\n          attributeList: b,\n          toolsBasicConfig: f,\n          textConfig: x,\n          step: I,\n          getFileData: N,\n          pageSize: j,\n          loadFileList: m,\n          onSave: L,\n          onPageChange: P,\n          onStepChange: y\n        })), F(), V.changeLanguage(A);\n      }\n    }, [D, t.toolsBasicConfig, t.attributeList, t.textConfig, t.tagConfigList, r]), s(function () {\n      l && (g == null || g(l), l.setIsShowOrder(u));\n    }, [l, u]);\n    var F = function F() {\n      m ? K(a.dispatch, a.getState, c, !0).then(function (i) {\n        i && a.dispatch(_(c));\n      }) : n && n.length > 0 && (a.dispatch({\n        type: q.UPDATE_IMG_LIST,\n        payload: {\n          imgList: n\n        }\n      }), a.dispatch(_(c)));\n    };\n    return /*#__PURE__*/p.createElement(\"div\", {\n      id: \"annotationCotentAreaIdtoGetBox\"\n    }, /*#__PURE__*/p.createElement(U, tt(k({}, t), {\n      currentToolName: r\n    })));\n  },\n  ot = function ot(t) {\n    return {\n      toolInstance: t.annotation.toolInstance,\n      currentToolName: t.annotation.currentToolName,\n      toolStyle: t.toolStyle\n    };\n  };\nvar nt = z(ot)(et);\nexport { nt as default };","map":null,"metadata":{},"sourceType":"module"}