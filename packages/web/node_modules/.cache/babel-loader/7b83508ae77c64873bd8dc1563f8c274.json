{"ast":null,"code":"import _defineProperty from \"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _toConsumableArray from \"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport { jsonParser as g } from \"./index.js\";\nimport S from \"./StepUtils.js\";\nvar P = Object.defineProperty,\n  N = Object.defineProperties,\n  I = Object.getOwnPropertyDescriptors,\n  O = Object.getOwnPropertySymbols,\n  d = Object.prototype.hasOwnProperty,\n  w = Object.prototype.propertyIsEnumerable,\n  _ = function _(r, t, e) {\n    return t in r ? P(r, t, {\n      enumerable: !0,\n      configurable: !0,\n      writable: !0,\n      value: e\n    }) : r[t] = e;\n  },\n  l = function l(r, t) {\n    for (var e in t || (t = {})) d.call(t, e) && _(r, e, t[e]);\n    if (O) {\n      var _iterator = _createForOfIteratorHelper(O(t)),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var e = _step.value;\n          w.call(t, e) && _(r, e, t[e]);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    return r;\n  },\n  f = function f(r, t) {\n    return N(r, I(t));\n  };\nvar v = function v(r, t) {\n    return JSON.stringify(l(l({}, g(r)), t));\n  },\n  j = function j(r, t, e) {\n    var u = t.step,\n      c = t.stepList,\n      s = e.rect,\n      p = e.basicRectID;\n    try {\n      var o = g(r),\n        m = S.getCurrentStepInfo(u, c),\n        y = m.dataSourceStep,\n        n = c[0].tool;\n      if (o.tagTool && !o.tagTool.toolName && (o.tagTool = {\n        toolName: \"tagTool\",\n        result: _toConsumableArray(o.tagTool)\n      }), o[n]) {\n        var i = o[n];\n        return i.result ? (JSON.stringify(i.result) === JSON.stringify(s) || (p ? i.result = [].concat(_toConsumableArray(i.result.filter(function (a) {\n          return !(a.sourceID && a.sourceID === p);\n        })), _toConsumableArray(s.filter(function (a) {\n          return a.sourceID && a.sourceID === p;\n        }))) : i.result = s), JSON.stringify(o)) : JSON.stringify(f(l({}, o), _defineProperty({}, n, f(l({}, o[n]), {\n          result: s\n        }))));\n      }\n      return JSON.stringify(f(l({}, o), _defineProperty({}, n, {\n        dataSourceStep: y,\n        toolName: c[u - 1].tool,\n        result: s\n      })));\n    } catch (o) {\n      return r;\n    }\n  };\nexport { j as composeResult, v as composeResultWithBasicImgInfo };","map":null,"metadata":{},"sourceType":"module"}