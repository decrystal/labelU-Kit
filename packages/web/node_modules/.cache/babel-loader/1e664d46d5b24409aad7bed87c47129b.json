{"ast":null,"code":"import _slicedToArray from \"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport F from \"./views/MainView/index.js\";\nimport { i18n as M } from \"@label-u/utils\";\nimport d, { useState as U, useEffect as l } from \"react\";\nimport { connect as V, useDispatch as G, useSelector as z } from \"react-redux\";\nimport { BasicToolOperation as p } from \"@label-u/annotation\";\nimport { store as i } from \"./index.js\";\nimport { ANNOTATION_ACTIONS as R } from \"./store/Actions.js\";\nimport { ChangeCurrentTool as $, InitTaskData as q, loadImgList as H } from \"./store/annotation/actionCreators.js\";\nimport { LoadFileAndFileData as h } from \"./store/annotation/reducer.js\";\nvar J = Object.defineProperty,\n  K = Object.defineProperties,\n  Q = Object.getOwnPropertyDescriptors,\n  _ = Object.getOwnPropertySymbols,\n  W = Object.prototype.hasOwnProperty,\n  X = Object.prototype.propertyIsEnumerable,\n  C = function C(t, e, o) {\n    return e in t ? J(t, e, {\n      enumerable: !0,\n      configurable: !0,\n      writable: !0,\n      value: o\n    }) : t[e] = o;\n  },\n  Y = function Y(t, e) {\n    for (var o in e || (e = {})) W.call(e, o) && C(t, o, e[o]);\n    if (_) {\n      var _iterator = _createForOfIteratorHelper(_(e)),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var o = _step.value;\n          X.call(e, o) && C(t, o, e[o]);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    return t;\n  },\n  Z = function Z(t, e) {\n    return K(t, Q(e));\n  };\nvar k = function k(t) {\n    var e = t.imgList,\n      _t$step = t.step,\n      o = _t$step === void 0 ? 1 : _t$step,\n      _t$stepList = t.stepList,\n      I = _t$stepList === void 0 ? [] : _t$stepList,\n      O = t.onSubmit,\n      v = t.onSave,\n      S = t.toolStyle,\n      a = t.currentToolName,\n      L = t.onPageChange,\n      T = t.onStepChange,\n      _t$initialIndex = t.initialIndex,\n      s = _t$initialIndex === void 0 ? p.Cache.get(\"nextIndex\") || 0 : _t$initialIndex,\n      r = t.toolInstance,\n      P = t.tagConfigList,\n      y = t.attributeList,\n      c = t.toolsBasicConfig,\n      w = t.textConfig,\n      f = t.setToolInstance,\n      x = t.getFileData,\n      _t$pageSize = t.pageSize,\n      N = _t$pageSize === void 0 ? 10 : _t$pageSize,\n      g = t.loadFileList,\n      _t$defaultLang = t.defaultLang,\n      b = _t$defaultLang === void 0 ? \"cn\" : _t$defaultLang;\n    t.imgList && t.imgList.length > 0 && console.info(\"result\", t.imgList[0].result);\n    var j = G(),\n      _z = z(function (n) {\n        return n.annotation;\n      }),\n      m = _z.isShowOrder,\n      _U = U(),\n      _U2 = _slicedToArray(_U, 2),\n      A = _U2[0],\n      B = _U2[1];\n    l(function () {\n      e && (e == null ? void 0 : e.length) > 0 && e[0].url && B(e[0].url);\n    }, []), l(function () {\n      return function () {\n        p.Cache.clear();\n      };\n    }, []), l(function () {\n      if (e && (e == null ? void 0 : e.length) > 0 && t.toolsBasicConfig && t.toolsBasicConfig.length > 0) {\n        var n = a,\n          u = c.filter(function (E) {\n            return E.tool === a;\n          });\n        u && u.length === 0 && (n = c[0].tool, j($(n))), i.dispatch(q({\n          toolStyle: S,\n          initToolName: n,\n          onSubmit: O,\n          stepList: I,\n          tagConfigList: P,\n          attributeList: y,\n          toolsBasicConfig: c,\n          textConfig: w,\n          step: o,\n          getFileData: x,\n          pageSize: N,\n          loadFileList: g,\n          onSave: v,\n          onPageChange: L,\n          onStepChange: T\n        })), D(), M.changeLanguage(b);\n      }\n    }, [A, t.toolsBasicConfig, t.attributeList, t.textConfig, t.tagConfigList, a]), l(function () {\n      r && (f == null || f(r), r.setIsShowOrder(m));\n    }, [r, m]);\n    var D = function D() {\n      g ? H(i.dispatch, i.getState, s, !0).then(function (n) {\n        n && i.dispatch(h(s));\n      }) : e && e.length > 0 && (i.dispatch({\n        type: R.UPDATE_IMG_LIST,\n        payload: {\n          imgList: e\n        }\n      }), i.dispatch(h(s)));\n    };\n    return /*#__PURE__*/d.createElement(\"div\", {\n      id: \"annotationCotentAreaIdtoGetBox\"\n    }, /*#__PURE__*/d.createElement(F, Z(Y({}, t), {\n      currentToolName: a\n    })));\n  },\n  tt = function tt(t) {\n    return {\n      toolInstance: t.annotation.toolInstance,\n      currentToolName: t.annotation.currentToolName,\n      toolStyle: t.toolStyle\n    };\n  };\nvar et = V(tt)(k);\nexport { et as default };","map":null,"metadata":{},"sourceType":"module"}