{"ast":null,"code":"import e from \"react\";\nimport { getClassName as o } from \"../../../../utils/dom.js\";\nimport { PauseOutlined as y, CaretRightOutlined as N, CaretUpOutlined as C, CaretDownOutlined as T } from \"@ant-design/icons\";\nimport { VideoPlayerCtx as c } from \"../../index.js\";\nimport { Pagination as x } from \"../../../../views/MainView/toolFooter/Pagination.js\";\nimport P from \"../../../../assets/annotation/video/icon_keyboard_h.svg.js\";\nimport h from \"../../../../views/MainView/toolHeader/HeaderTips/ToolHotKey/index.js\";\nimport { useTranslation as u } from \"react-i18next\";\nimport { decimalReserved as d } from \"../../utils.js\";\nimport { cTool as w } from \"@label-u/annotation\";\nvar V = w.EVideoToolName,\n  p = function p(t) {\n    var n = Math.floor(t / 60),\n      r = ~~(t % 60).toFixed(),\n      a = (t * 10).toString().split(\"\").pop(),\n      l = function l(s) {\n        return s < 10 ? \"0\".concat(s) : s;\n      };\n    return \"\".concat(l(n), \":\").concat(l(r), \":\").concat(a);\n  },\n  k = function k() {\n    var _e$useContext = e.useContext(c),\n      t = _e$useContext.currentTime,\n      n = _e$useContext.duration,\n      r = _e$useContext.buffered,\n      a = _e$useContext.setCurrentTime,\n      l = e.useRef(null),\n      s = \"\".concat(d(r / n * 100, 1), \"%\"),\n      m = \"\".concat(d(t / n * 100, 1), \"%\"),\n      v = function v(i) {\n        if (l.current) {\n          var E = i.clientX,\n            f = l.current.clientWidth,\n            g = d(E / f * n, 1);\n          a(g);\n        }\n      };\n    return /*#__PURE__*/e.createElement(\"div\", {\n      className: o(\"video-progress\"),\n      ref: l,\n      onClick: function onClick(i) {\n        i.stopPropagation(), i.nativeEvent.stopImmediatePropagation(), v(i);\n      }\n    }, /*#__PURE__*/e.createElement(\"div\", {\n      className: o(\"video-slider\")\n    }, /*#__PURE__*/e.createElement(\"div\", {\n      className: o(\"video-slider\", \"played\"),\n      style: {\n        width: m\n      }\n    }), /*#__PURE__*/e.createElement(\"div\", {\n      className: o(\"video-slider\", \"loaded\"),\n      style: {\n        width: s\n      }\n    }), /*#__PURE__*/e.createElement(\"div\", {\n      className: o(\"video-slider\", \"played\"),\n      style: {\n        width: m\n      }\n    })), /*#__PURE__*/e.createElement(\"div\", {\n      className: o(\"video-slider-bar\"),\n      style: {\n        left: m\n      }\n    }));\n  },\n  $ = function $() {\n    var _e$useContext2 = e.useContext(c),\n      t = _e$useContext2.updateNextPlaybackRate,\n      n = _e$useContext2.playbackRate,\n      _u = u(),\n      r = _u.t;\n    return /*#__PURE__*/e.createElement(\"span\", {\n      className: o(\"video-controller\", \"speed\")\n    }, /*#__PURE__*/e.createElement(\"span\", null, r(\"Speed\")), /*#__PURE__*/e.createElement(\"span\", {\n      className: o(\"video-controller\", \"speedNum\")\n    }, \"\".concat(n, \"x\")), /*#__PURE__*/e.createElement(\"span\", {\n      className: o(\"video-controller\", \"speedButton\")\n    }, /*#__PURE__*/e.createElement(C, {\n      onClick: function onClick() {\n        t();\n      }\n    }), /*#__PURE__*/e.createElement(T, {\n      onClick: function onClick() {\n        t(!1);\n      }\n    })));\n  },\n  b = function b() {\n    var _u2 = u(),\n      t = _u2.t;\n    return /*#__PURE__*/e.createElement(h, {\n      title: /*#__PURE__*/e.createElement(\"span\", {\n        className: o(\"video-controller\", \"hotkey\")\n      }, /*#__PURE__*/e.createElement(\"img\", {\n        src: P\n      }), t(\"Hotkeys\")),\n      style: {},\n      toolName: V.VideoTagTool\n    });\n  },\n  R = function R() {\n    var _e$useContext3 = e.useContext(c),\n      t = _e$useContext3.imgIndex,\n      n = _e$useContext3.imgList,\n      r = _e$useContext3.pageBackward,\n      a = _e$useContext3.pageJump,\n      l = _e$useContext3.pageForward;\n    return /*#__PURE__*/e.createElement(x, {\n      isVideo: !0,\n      pageBackward: r,\n      imgIndex: t,\n      pageJump: a,\n      totalPage: n.length,\n      pageForward: l,\n      footerCls: o(\"video-controller\")\n    });\n  },\n  j = function j() {\n    var _e$useContext4 = e.useContext(c),\n      t = _e$useContext4.currentTime,\n      n = _e$useContext4.duration,\n      r = n * 10 - t * 10,\n      a = (r > 0 ? r : 0) / 10;\n    return /*#__PURE__*/e.createElement(\"div\", {\n      className: o(\"video-controller\", \"time\")\n    }, \"\".concat(p(t), \" / -\").concat(p(a)));\n  },\n  H = function H() {\n    var _e$useContext5 = e.useContext(c),\n      t = _e$useContext5.playPause,\n      n = _e$useContext5.isPlay;\n    return /*#__PURE__*/e.createElement(\"div\", {\n      className: o(\"video-controller\", \"wrapper\")\n    }, /*#__PURE__*/e.createElement(k, null), /*#__PURE__*/e.createElement(\"div\", {\n      className: o(\"video-controller\")\n    }, /*#__PURE__*/e.createElement(\"span\", {\n      onClick: function onClick() {\n        t();\n      },\n      className: o(\"video-controller\", \"playButton\")\n    }, n ? /*#__PURE__*/e.createElement(y, null) : /*#__PURE__*/e.createElement(N, null)), /*#__PURE__*/e.createElement(j, null), /*#__PURE__*/e.createElement($, null), /*#__PURE__*/e.createElement(\"div\", {\n      className: o(\"video-controller\", \"holder\")\n    }), /*#__PURE__*/e.createElement(R, null), /*#__PURE__*/e.createElement(b, null)));\n  };\nexport { H as default };","map":null,"metadata":{},"sourceType":"module"}