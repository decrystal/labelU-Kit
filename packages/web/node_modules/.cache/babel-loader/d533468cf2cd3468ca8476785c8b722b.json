{"ast":null,"code":"import _regeneratorRuntime from\"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/decrytal-ade/project/work/shlab/labelU-Kit/packages/web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{LogoutOutlined,UserOutlined,MenuUnfoldOutlined,MenuFoldOutlined}from'@ant-design/icons';import{Layout,Menu}from'antd';import{useNavigate}from'react-router-dom';// import LanguageSvg from '../../img/header/language.svg';\n// import ZhCnSvg from '../../img/header/zh_CN.svg';\n// import EnUsSvg from '../../img/header/en_US.svg';\nimport{LocaleFormatter,useLocale}from'../../locales';import LogoIcon from\"../../img/logo/logo.svg\";// import AntdSvg from '../../img/logo/antd.svg';\nimport{logoutAsync,setUserItem}from'../../stores/user.store';import{useDispatch,useSelector}from'react-redux';// import SvgIcon from '../../components/basic/svgIcon';\nimport{jsx as _jsx}from\"@emotion/react/jsx-runtime\";import{jsxs as _jsxs}from\"@emotion/react/jsx-runtime\";import{Fragment as _Fragment}from\"@emotion/react/jsx-runtime\";var Header=Layout.Header;var HeaderComponent=function HeaderComponent(_ref){var collapsed=_ref.collapsed,toggle=_ref.toggle;var _useSelector=useSelector(function(state){return state.user;}),logged=_useSelector.logged,locale=_useSelector.locale,device=_useSelector.device;var navigate=useNavigate();var dispatch=useDispatch();var _useLocale=useLocale(),formatMessage=_useLocale.formatMessage;var onActionClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(action){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.t0=action;_context.next=_context.t0==='userInfo'?3:_context.t0==='userSetting'?4:_context.t0==='logout'?5:12;break;case 3:return _context.abrupt(\"return\");case 4:return _context.abrupt(\"return\");case 5:_context.t1=Boolean;_context.next=8;return dispatch(logoutAsync());case 8:_context.t2=_context.sent;res=(0,_context.t1)(_context.t2);res&&navigate('/login');return _context.abrupt(\"return\");case 12:case\"end\":return _context.stop();}},_callee);}));return function onActionClick(_x){return _ref2.apply(this,arguments);};}();var toLogin=function toLogin(){navigate('/login');};var selectLocale=function selectLocale(_ref3){var key=_ref3.key;dispatch(setUserItem({locale:key}));localStorage.setItem('locale',key);};var menu=_jsxs(Menu,{children:[_jsx(Menu.Item,{children:_jsxs(\"span\",{children:[_jsx(UserOutlined,{}),_jsx(\"span\",{onClick:function onClick(){return navigate('/dashboard');},children:_jsx(LocaleFormatter,{id:\"header.avator.account\"})})]})},\"1\"),_jsx(Menu.Divider,{}),_jsx(Menu.Item,{children:_jsxs(\"span\",{children:[_jsx(LogoutOutlined,{}),_jsx(\"span\",{onClick:function onClick(){return onActionClick('logout');},children:_jsx(LocaleFormatter,{id:\"header.avator.logout\"})})]})},\"2\")]});return _jsxs(Header,{className:\"layout-page-header\",children:[device!=='MOBILE'&&_jsx(\"div\",{className:\"logo\",style:{width:collapsed?90:200},children:_jsx(\"img\",{src:LogoIcon,alt:\"\",style:{width:90}})}),_jsxs(\"div\",{className:\"layout-page-header-main\",children:[_jsx(\"div\",{onClick:toggle,children:_jsx(\"span\",{id:\"sidebar-trigger\",children:collapsed?_jsx(MenuUnfoldOutlined,{}):_jsx(MenuFoldOutlined,{})})}),_jsx(\"div\",{className:\"actions\",children:logged?_jsx(_Fragment,{}):// <Dropdown overlay={menu} trigger={['click']}>\n//   <span className=\"user-action\">\n//     {/* <SvgIcon name='header-avator' /> */}\n//     <img src={Avator} className=\"user-avator\" alt=\"avator\" />\n//   </span>\n// </Dropdown>\n_jsx(\"span\",{style:{cursor:'pointer'},onClick:toLogin,children:formatMessage({id:'gloabal.tips.login'})})})]})]});};export default HeaderComponent;","map":null,"metadata":{},"sourceType":"module"}